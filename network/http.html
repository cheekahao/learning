<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>HTTP基础 | 前端笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="learning notebook of cheeka">
    <link rel="preload" href="/assets/css/0.styles.6140569f.css" as="style"><link rel="preload" href="/assets/js/app.b27af4fa.js" as="script"><link rel="preload" href="/assets/js/2.5fc4f946.js" as="script"><link rel="preload" href="/assets/js/29.80f459c9.js" as="script"><link rel="prefetch" href="/assets/js/10.369d905b.js"><link rel="prefetch" href="/assets/js/11.331fc11f.js"><link rel="prefetch" href="/assets/js/12.9443d8c7.js"><link rel="prefetch" href="/assets/js/13.333ecdac.js"><link rel="prefetch" href="/assets/js/14.93abd0db.js"><link rel="prefetch" href="/assets/js/15.0b95aafa.js"><link rel="prefetch" href="/assets/js/16.372500f4.js"><link rel="prefetch" href="/assets/js/17.09ca4bd8.js"><link rel="prefetch" href="/assets/js/18.a6fd3900.js"><link rel="prefetch" href="/assets/js/19.659acaac.js"><link rel="prefetch" href="/assets/js/20.320906d7.js"><link rel="prefetch" href="/assets/js/21.0cf978f1.js"><link rel="prefetch" href="/assets/js/22.f89d5d55.js"><link rel="prefetch" href="/assets/js/23.2b823351.js"><link rel="prefetch" href="/assets/js/24.3d8f712f.js"><link rel="prefetch" href="/assets/js/25.477b02c5.js"><link rel="prefetch" href="/assets/js/26.a7abcbf2.js"><link rel="prefetch" href="/assets/js/27.f7e906c9.js"><link rel="prefetch" href="/assets/js/28.52aca943.js"><link rel="prefetch" href="/assets/js/3.e4a7d532.js"><link rel="prefetch" href="/assets/js/4.d574c98b.js"><link rel="prefetch" href="/assets/js/5.8abf2eed.js"><link rel="prefetch" href="/assets/js/6.a37e6eeb.js"><link rel="prefetch" href="/assets/js/7.1e9eefa2.js"><link rel="prefetch" href="/assets/js/8.6e595e88.js"><link rel="prefetch" href="/assets/js/9.106390a6.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6140569f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/css.html" class="nav-link">
  css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/es6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/javascript/omission.html" class="nav-link">
  JS拾遗
</a></li><li class="dropdown-item"><!----> <a href="/javascript/ts.html" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/framework/vue3/" class="nav-link">
  Vue3源码解读
</a></li><li class="dropdown-item"><!----> <a href="/framework/react.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/http.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/network/caching.html" class="nav-link">
  缓存
</a></li></ul></div></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/advance/functional.html" class="nav-link">
  函数式编程
</a></li><li class="dropdown-item"><!----> <a href="/advance/patterns.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/advance/algorithm.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/advance/leet_code.html" class="nav-link">
  LeetCode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="全栈" class="dropdown-title"><span class="title">全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fullStack/node.html" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机科学" class="dropdown-title"><span class="title">计算机科学</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/program.html" class="nav-link">
  程序是怎么跑起来的
</a></li><li class="dropdown-item"><!----> <a href="/cs/compiler.html" class="nav-link">
  编译原理
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/cheekahao/learning" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fe/css.html" class="nav-link">
  css
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/javascript/es6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/javascript/omission.html" class="nav-link">
  JS拾遗
</a></li><li class="dropdown-item"><!----> <a href="/javascript/ts.html" class="nav-link">
  TypeScript
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/framework/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/framework/vue3/" class="nav-link">
  Vue3源码解读
</a></li><li class="dropdown-item"><!----> <a href="/framework/react.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/network/http.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  HTTP
</a></li><li class="dropdown-item"><!----> <a href="/network/caching.html" class="nav-link">
  缓存
</a></li></ul></div></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  工程化
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/advance/functional.html" class="nav-link">
  函数式编程
</a></li><li class="dropdown-item"><!----> <a href="/advance/patterns.html" class="nav-link">
  设计模式
</a></li><li class="dropdown-item"><!----> <a href="/advance/algorithm.html" class="nav-link">
  数据结构
</a></li><li class="dropdown-item"><!----> <a href="/advance/leet_code.html" class="nav-link">
  LeetCode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="全栈" class="dropdown-title"><span class="title">全栈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fullStack/node.html" class="nav-link">
  Node
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机科学" class="dropdown-title"><span class="title">计算机科学</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/cs/program.html" class="nav-link">
  程序是怎么跑起来的
</a></li><li class="dropdown-item"><!----> <a href="/cs/compiler.html" class="nav-link">
  编译原理
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/cheekahao/learning" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/network/http.html" aria-current="page" class="active sidebar-link">HTTP基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/http.html#uri与url" class="sidebar-link">URI与URL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/http.html#url语法" class="sidebar-link">URL语法</a></li><li class="sidebar-sub-header"><a href="/network/http.html#相对url" class="sidebar-link">相对URL</a></li><li class="sidebar-sub-header"><a href="/network/http.html#url字符集" class="sidebar-link">URL字符集</a></li><li class="sidebar-sub-header"><a href="/network/http.html#url方案" class="sidebar-link">URL方案</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/http.html#http事务" class="sidebar-link">HTTP事务</a></li><li class="sidebar-sub-header"><a href="/network/http.html#http协议版本" class="sidebar-link">HTTP协议版本</a></li><li class="sidebar-sub-header"><a href="/network/http.html#http报文" class="sidebar-link">HTTP报文</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/http.html#报文流" class="sidebar-link">报文流</a></li><li class="sidebar-sub-header"><a href="/network/http.html#报文的组成部分" class="sidebar-link">报文的组成部分</a></li><li class="sidebar-sub-header"><a href="/network/http.html#http报文的语法" class="sidebar-link">HTTP报文的语法</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/http.html#http方法" class="sidebar-link">HTTP方法</a></li><li class="sidebar-sub-header"><a href="/network/http.html#http状态码" class="sidebar-link">HTTP状态码</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/http.html#_100-199信息性状态码" class="sidebar-link">100~199信息性状态码</a></li><li class="sidebar-sub-header"><a href="/network/http.html#_200-299成功状态码" class="sidebar-link">200~299成功状态码</a></li><li class="sidebar-sub-header"><a href="/network/http.html#_300-399重定向状态码" class="sidebar-link">300~399重定向状态码</a></li><li class="sidebar-sub-header"><a href="/network/http.html#_400～499客户端错误状态码" class="sidebar-link">400～499客户端错误状态码</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/http.html#http首部" class="sidebar-link">HTTP首部</a></li><li class="sidebar-sub-header"><a href="/network/http.html#get与post的区别" class="sidebar-link">GET与POST的区别</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/network/http.html#浏览器的get和post" class="sidebar-link">浏览器的GET和POST</a></li><li class="sidebar-sub-header"><a href="/network/http.html#接口中的get和post" class="sidebar-link">接口中的GET和POST</a></li><li class="sidebar-sub-header"><a href="/network/http.html#关于安全性" class="sidebar-link">关于安全性</a></li></ul></li><li class="sidebar-sub-header"><a href="/network/http.html#web的结构组件" class="sidebar-link">Web的结构组件</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="http基础"><a href="#http基础" class="header-anchor">#</a> HTTP基础</h1> <h2 id="uri与url"><a href="#uri与url" class="header-anchor">#</a> URI与URL</h2> <p><code>Web</code>服务器资源名被称为<strong>统一资源标识符</strong>（Uniform Resource Identifier, URI）。<code>URI</code>就像因特网上的邮件地址一样，在世界范围内唯一标识并定位信息资源。</p> <p><code>URI</code>有两种形式，<code>URL</code>和<code>URN</code>。</p> <p>统一资源定位符（URL）是<code>URI</code>的最常见方式，描述了一台特定服务器上某资源的特定位置，可以明确说明如何从一个精确、固定的位置获取资源。</p> <p>大部分<code>URL</code>都遵守的标准格式包含以下三个部分：</p> <ul><li>方案（scheme），表示资源使用的协议类型。如<code>HTTP</code>协议<code>http://</code></li> <li>因特网网址，例如：<code>www.baidu.com</code></li> <li>资源路径，例如：<code>/network/http.html</code></li></ul> <p>统一资源名（URN）是作为特定内容的唯一名称使用，与资源所在地无关。使用这个与位置无关的<code>URN</code>，就可以将资源四处搬移，也可以用同一个名字通过多种网路访问协议来访问资源。</p> <p>例如因特网标准文档RFC 2141可以命名为：<code>urn:ietf:rfc:2141</code></p> <p><code>URN</code>仍然处于试验阶段。永久统一资源定位符（persistent uniform resource locators, <code>PURL</code>）使用<code>URL</code>来实现<code>URN</code>功能的一个例子。其基本思想是在搜索资源过程中引入另一个中间层，通过一个中间资源定位符服务器对资源的实际<code>URL</code>进行登记和跟踪。</p> <h3 id="url语法"><a href="#url语法" class="header-anchor">#</a> URL语法</h3> <p><code>URL</code>提供了一种定位<code>Internet</code>上任意资源的手段，但是不同的方案(例如<code>HTTP</code>、<code>FTP</code>和<code>SMTP</code>等)的语法不尽相同。</p> <p>大部分<code>URL</code>方案的<code>URL</code>语法建立在以下九个部分的通用格式上：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;scheme&gt;://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;params&gt;?&lt;query&gt;#&lt;frag&gt;
</code></pre></div><table><thead><tr><th style="text-align:center;">组件</th> <th>描述</th> <th style="text-align:center;">默认值</th></tr></thead> <tbody><tr><td style="text-align:center;">方案<code>scheme</code></td> <td>访问服务器时使用的协议，有第一个<code>:</code>将其与<code>URL</code>其余部分分隔开，大小写无关</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">用户<code>user</code></td> <td>访问时需要的用户名，<code>@</code>将用户和密码组件和<code>URL</code>其余部分分隔开</td> <td style="text-align:center;">匿名</td></tr> <tr><td style="text-align:center;">密码<code>password</code></td> <td>用户名后面需要包含密码，中间由冒号(<code>:</code>)分隔</td> <td style="text-align:center;"><code>&lt;E-mail&gt;</code>地址</td></tr> <tr><td style="text-align:center;">主机<code>host</code></td> <td>资源宿主服务器的主机名或<code>IP</code>地址</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">端口<code>port</code></td> <td>资源宿主服务器正在监听的端口号，很多方案都有默认端口号（<code>HTTP</code>的默认端口号为<code>80</code>）</td> <td style="text-align:center;">每个方案特有</td></tr> <tr><td style="text-align:center;">路径<code>path</code></td> <td>服务器上资源的本地名，用<code>/</code>将其与前面的<code>URL</code>组件分隔开，路径组件语法与服务器和方案有关。可以用<code>/</code>将<code>HTTP URL</code>的路径组件划分成一些路径段（path segment），每个路径段都有自己的参数<code>params</code>组件</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">参数<code>params</code></td> <td>某些方案（例如<code>FTP</code>）可以用这个组件来输入参数，参数为名/值对，可以包含多个参数字段，字段之间以及与路径其余部分之间用分号(<code>;</code>)分隔</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">查询<code>query</code></td> <td>某些方案（例如<code>HTTP</code>）用以传递参数以激活应用程序（比如数据库、公告板、搜索引擎等）。查询组件，没有通用格式，通常大部分网关希望查询字符串以名值对的形式出现名值对之间用<code>&amp;</code>分隔；用<code>?</code>将其与<code>URL</code>其余部分分隔开</td> <td style="text-align:center;">-</td></tr> <tr><td style="text-align:center;">片段<code>frag</code></td> <td>一小片或者一部分资源的名字。引用对象时，不会将<code>frag</code>传给服务器，只在客户端内部使用，通过<code>#</code>将其与<code>URL</code>其余部分分隔开</td> <td style="text-align:center;">-</td></tr></tbody></table> <h3 id="相对url"><a href="#相对url" class="header-anchor">#</a> 相对URL</h3> <p><code>URL</code>有两种方式，绝对的和相对的。绝对<code>URL</code>包含访问资源所需要的全部信息。</p> <p>相对<code>URL</code>是<code>URL</code>的一种便捷缩略记法。相对<code>URL</code>是不完整的，要获取访问资源所需要的全部信息必须相对于基础（base）<code>URL</code>进行解析。</p> <h3 id="url字符集"><a href="#url字符集" class="header-anchor">#</a> URL字符集</h3> <p>基于历史原因，<code>URL</code>采用<code>US-ASCII</code>字符集。为了保证<code>URL</code>的完整性，设计了<strong>转义序列</strong>。通过转义序列，可以用<code>US-ASCII</code>字符集的有限子集对任意紫府进行编码。</p> <p><code>URL</code>转义序列的编码机制包含一个百分号（%），后面跟着两个表示字符<code>ASCII</code>码的十六进制数。例如空格的<code>ASCII</code>码为<code>32(0x20)</code>，编码之后就是<code>%20</code>。</p> <p>在<code>URL</code>中，还有以下几种字符也会被转义：</p> <ul><li>由于有特殊含义被作为保留字符</li> <li>不在<code>US-ASCII</code>可打印字符集中</li> <li>有些字符会与某些因特网网关和协议产生混淆</li></ul> <table><thead><tr><th style="text-align:center;">字符</th> <th>保留/受限原因</th></tr></thead> <tbody><tr><td style="text-align:center;"><code>%</code></td> <td>编码字符转义标志</td></tr> <tr><td style="text-align:center;"><code>/</code></td> <td>路径组件中分隔路径段的定界符</td></tr> <tr><td style="text-align:center;"><code>.</code></td> <td>路径组件中使用</td></tr> <tr><td style="text-align:center;"><code>#</code></td> <td>分段定界符</td></tr> <tr><td style="text-align:center;"><code>?</code></td> <td>查询字符串定界符</td></tr> <tr><td style="text-align:center;"><code>;</code></td> <td>参数定界符</td></tr> <tr><td style="text-align:center;"><code>:</code></td> <td>方案、用户/口令以及主机/端口组件定界符</td></tr> <tr><td style="text-align:center;"><code>$,+</code></td> <td>保留</td></tr> <tr><td style="text-align:center;"><code>@&amp;=</code></td> <td>某些方案上下文有特殊含义</td></tr> <tr><td style="text-align:center;"><code>{}|\^~[]'</code></td> <td>由于各种<code>Agent</code>代理比如网关的不安全处理，使用受限</td></tr> <tr><td style="text-align:center;"><code>&lt;&gt;&quot;</code></td> <td>不安全，在<code>URL</code>范围之外用意义</td></tr> <tr><td style="text-align:center;"><code>0x00-0x1F, 0x7F</code></td> <td><code>US-ASCII</code>不可打印字符，受限</td></tr> <tr><td style="text-align:center;"><code>&gt;0x7F</code></td> <td>不在<code>US-ASCII</code>7比特范围内，受限</td></tr></tbody></table> <h3 id="url方案"><a href="#url方案" class="header-anchor">#</a> <code>URL</code>方案</h3> <table><thead><tr><th style="text-align:left;">方案</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;"><code>http</code></td> <td>超文本传入协议方案，除了没有用户名和密码外，与通用<code>URL</code>格式相符，默认端口80。<br> 基本格式：<code>http://&lt;host&gt;:&lt;port&gt;/&lt;path&gt;?&lt;query&gt;#&lt;frag&gt;</code></td></tr> <tr><td style="text-align:left;"><code>https</code></td> <td>与<code>http</code>一致。默认端口443</td></tr> <tr><td style="text-align:left;"><code>mailto</code></td> <td><code>mailto URL</code>指向的是<code>Email</code>地址，与其他方案有所不同，与标准<code>URL</code>也有所不同，其语法记录在<code>RFC 822</code>中<br> 基本格式：<code>mailto:&lt;RFC-822-addr-spec&gt;</code></td></tr> <tr><td style="text-align:left;"><code>ftp</code></td> <td>文件传输协议，用来从<code>FTP</code>服务器上下载或者上传文件，并获取<code>FTP</code>服务器的目录结构内容列表。基本格式：<code>ftp://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;;&lt;params&gt;</code></td></tr> <tr><td style="text-align:left;"><code>rtsp</code>, <code>rtspu</code></td> <td><code>RTSP URL</code>是可以通过实时流传输协议解析的音/视频媒体资源标识符。<code>rtspu</code>表示使用<code>UDP</code>获取资源。基本格式：<code>rtsp://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;path&gt;</code></td></tr> <tr><td style="text-align:left;"><code>file</code></td> <td>表示一台指定主机(本地磁盘、网络文件系统、或其他一些文件共享系统)上可以直接访问的文件。 基本格式：<code>file://&lt;host&gt;/&lt;path&gt;</code></td></tr> <tr><td style="text-align:left;"><code>news</code></td> <td><code>RFC 1036</code>定义，用来访问一些特定的文章或者新闻组。<code>news URL</code>包含的信息不足以对资源进行定位，需要解释程序。基本格式：<code>news:&lt;newsgroup&gt;``news:&lt;new-article-id&gt;</code></td></tr> <tr><td style="text-align:left;"><code>telnet</code></td> <td>用于访问交互式业务。表示的是可通过<code>telnet</code>协议访问的交互式应用程序（资源）。基本格式：<code>telnet://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/</code></td></tr></tbody></table> <h2 id="http事务"><a href="#http事务" class="header-anchor">#</a> HTTP事务</h2> <p>一个<code>HTTP</code>事务由一条（从客户端发往服务器的）请求命令和一个（从服务器发回客户端的）响应结果组成。这种通信是通过名为<code>HTTP</code>报文（HTTP message）的格式化数据块进行的。</p> <h2 id="http协议版本"><a href="#http协议版本" class="header-anchor">#</a> HTTP协议版本</h2> <ul><li><code>HTTP/0.9</code>，1991发布的原型版本，只支持<code>GET</code>方法。响应后就马上关闭连接</li> <li><code>HTTP/1.0</code>，第一个得到广泛应用的版本，增加了<code>HEAD</code>、<code>POST</code>方法，增加了<code>HTTP Headers</code>和响应状态码</li> <li><code>HTTP/1.1</code>，当前普遍使用的版本。
<ul><li>持久连接（<code>Keep-Alive</code>），通道复用</li> <li>增加了<code>PUT</code>、<code>DELETE</code>，<code>OPTIONS</code>等方法</li> <li>新增断点续传，身份认证，状态管理，缓存等特性</li></ul></li> <li><code>HTTP/2.0</code>，数据以二进制分帧进行传输，头信息压缩，支持服务端推送</li> <li><code>HTTPS</code>，使用<code>SSL</code>加密传输的<code>HTTP</code>安全版本</li></ul> <h2 id="http报文"><a href="#http报文" class="header-anchor">#</a> HTTP报文</h2> <h3 id="报文流"><a href="#报文流" class="header-anchor">#</a> 报文流</h3> <p><code>HTTP</code>报文是在<code>HTTP</code>应用程序之间发送的数据块，以文本形式的原信息（meta-information）开头，描述了报文的内容和含义，后面跟着可选的数据部分。</p> <p><code>HTTP</code>使用术语<em>流入</em>(inbound)和<em>流出</em>(outbound)来描述事物处理(transaction)的方向。报文流入源端服务器，工作完成后回流用户的<code>Agent</code>代理中。</p> <p><code>HTTP</code>报文会像水一样流动，向下游(downstream)流动。所有报文的发送者都在接受者的上游(upstream)。</p> <h3 id="报文的组成部分"><a href="#报文的组成部分" class="header-anchor">#</a> 报文的组成部分</h3> <p><code>HTTP</code>报文是简单的格式化数据块，由以下三部分组成：</p> <ul><li>起始行(start line)，对报文进行描述</li> <li>首部(header)，包含属性</li> <li>主体(body)，可选的，包含数据</li></ul> <p>起始行和首部由行分隔，每行以一个由回车符(ASII码 13)和换行符(ASII码 10)组成的行终止序列(CRLF)作为结束。但稳健的应用程序通常也接受单个换行符作为行的终止，因为有些老的或者不完整的<code>HTTP</code>应用程序并不总是即发送回车符，又发送换行符。</p> <p>主体(body)是一个可选的数据块，可以包含文本或者二进制数据。</p> <h3 id="http报文的语法"><a href="#http报文的语法" class="header-anchor">#</a> HTTP报文的语法</h3> <p>HTTP报文可以分为两类，请求报文(<code>request message</code>)和响应报文(<code>response message</code>)。请求报文向<code>Web</code>服务器请求一个动作。响应报文将请求的结果返回给客户端。</p> <p>请求报文的格式：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;method&gt; &lt;request-URL&gt; &lt;version&gt;
&lt;headers&gt;

&lt;entity-body&gt;
</code></pre></div><p>响应报文的格式：</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;version&gt; &lt;status&gt; &lt;reason-phrase&gt;
&lt;headers&gt;

&lt;entity-body&gt;
</code></pre></div><p>各部分具体描述如下：</p> <table><thead><tr><th style="text-align:left;">部分</th> <th>描述</th></tr></thead> <tbody><tr><td style="text-align:left;">方法<code>method</code></td> <td>客户端系统服务器对资源执行的动作，例如：<code>GET</code>、<code>HEAD</code>或者<code>POST</code></td></tr> <tr><td style="text-align:left;">请求地址<code>request URL</code></td> <td>所请求资源的完整<code>URL</code></td></tr> <tr><td style="text-align:left;">版本<code>version</code></td> <td>报文所使用<code>HTTP</code>版本，格式如下：<code>HTTP/&lt;major&gt;.&lt;minor&gt;</code></td></tr> <tr><td style="text-align:left;">状态码<code>status code</code></td> <td>三位数字，描述请求过程发生的情况。第一位用于描述状态的一般类别</td></tr> <tr><td style="text-align:left;">原因短语<code>reason phrase</code></td> <td>状态码的可读版本，包含行终止符之前的所有文本</td></tr> <tr><td style="text-align:left;">首部<code>header</code></td> <td>可以有0个或者多个首部。是一些系列的名值对。具体参见<a href="#HTTP%E9%A6%96%E9%83%A8">HTTP首部</a></td></tr> <tr><td style="text-align:left;"><div style="width:220px;">实体的主体部分<code>entity body</code></div></td> <td>主要包含一个由任意数据组成的数据块。并不是所有的报文都包含实体部分</td></tr></tbody></table> <p>请求报文示例如下：</p> <div class="language- extra-class"><pre class="language-text"><code>GET /test/hi-there.txt HTTP/1.1
Accept: text/*
Host: www.haozhenjia.com
</code></pre></div><p>响应报文示例：</p> <div class="language- extra-class"><pre class="language-text"><code>HTTP/1.1 200 OK
Content-type: text/plain
Content-length: 19

Hi! I'm a message!
</code></pre></div><h2 id="http方法"><a href="#http方法" class="header-anchor">#</a> HTTP方法</h2> <p>常用<code>HTTP</code>方法见下表：</p> <table><thead><tr><th>方法</th> <th>描述</th> <th style="text-align:center;">是否包含主体</th></tr></thead> <tbody><tr><td><code>GET</code></td> <td>从服务器获取一份文档</td> <td style="text-align:center;">否</td></tr> <tr><td><code>HEAD</code></td> <td>只从服务器获取文档的首部</td> <td style="text-align:center;">否</td></tr> <tr><td><code>POST</code></td> <td>向服务器发送需要处理的数据</td> <td style="text-align:center;">是</td></tr> <tr><td><code>PUT</code></td> <td>将请求主体部分存储在服务器上</td> <td style="text-align:center;">是</td></tr> <tr><td><code>TRACE</code></td> <td>对可能经过代理服务器传送到服务器上的报文进行追踪</td> <td style="text-align:center;">否</td></tr> <tr><td><code>OPTIONS</code></td> <td>决定可以在服务器是上执行那些方法</td> <td style="text-align:center;">否</td></tr> <tr><td><code>DELETE</code></td> <td>从服务器上删除一份文档</td> <td style="text-align:center;">否</td></tr></tbody></table> <h2 id="http状态码"><a href="#http状态码" class="header-anchor">#</a> HTTP状态码</h2> <p>状态码分类如下：</p> <table><thead><tr><th>整体范围</th> <th>已定义范围</th> <th>分类</th></tr></thead> <tbody><tr><td><code>100~199</code></td> <td><code>100~101</code></td> <td>信息提示</td></tr> <tr><td><code>200~299</code></td> <td><code>200~206</code></td> <td>成功</td></tr> <tr><td><code>300~399</code></td> <td><code>300~305</code></td> <td>重定向</td></tr> <tr><td><code>400~499</code></td> <td><code>400~415</code></td> <td>客户端错误</td></tr> <tr><td><code>500~599</code></td> <td><code>500~505</code></td> <td>服务器错误</td></tr></tbody></table> <h3 id="_100-199信息性状态码"><a href="#_100-199信息性状态码" class="header-anchor">#</a> 100~199信息性状态码</h3> <p><code>HTTP/1.1</code>引入了信息性状态码，这些状态码相对较新，因其复杂性和感知价值尚存在一些争论，而受到限制。</p> <table><thead><tr><th>状态码</th> <th>原因短语</th> <th>含义</th></tr></thead> <tbody><tr><td><code>100</code></td> <td><code>Continue</code></td> <td>说明收到了请求的初始部分，请客户端继续。发送了这个状态码之后，服务器在收到请求之后，必须进行响应。</td></tr> <tr><td><code>101</code></td> <td><code>Switching Protocals</code></td> <td>说明服务器正在根据客户端的指定，将协议切换成<code>Update</code>首部所列的协议</td></tr></tbody></table> <p><strong>100 Continue</strong>状态码是针对如下情况：客户端在发送一个有实体的主体部分之前，期望查看下服务器是否接受这个实体。</p> <p>首先，客户端需要发送一个包含了<code>Expect: 100-continue</code>首部的请求。这是一种优化，客户端只有在避免向服务器发送一个无法处理或使用大实体时，才使用<code>100 Continue</code>。</p> <p>服务器接受了该请求之后，用<code>100 Continue</code>状态码或者错误码响应。如果在发送<code>100 Continue</code>状态码之前，就收到了部分（或全部)实体，服务器就不需要发送这个状态码了，而是跳过这个阶段，在读完请求之后，发送一个最终的状态码。</p> <p>代理接受到包含<code>Expect: 100-continue</code>首部的请求，若知道下一个服务器兼容<code>HTTP/1.1</code>，或者不知道是否兼容，都应该将<code>Expect</code>首部放在请求中向下转发。如果知道不兼容<code>HTTP/1.1</code>，则以<code>417 Expectation Failed</code>响应。</p> <h3 id="_200-299成功状态码"><a href="#_200-299成功状态码" class="header-anchor">#</a> 200~299成功状态码</h3> <table><thead><tr><th>状态码</th> <th>原因短语</th> <th>含义</th></tr></thead> <tbody><tr><td><code>200</code></td> <td><code>OK</code></td> <td>请求成功，实体的主体部分包含了所请求的资源</td></tr> <tr><td><code>201</code></td> <td><code>Created</code></td> <td>用于创建服务器对象的请求（如<code>PUT</code>），响应的主体包含了引用了已创建资源的<code>URL</code>，<code>Location</code>首部包含了具体引用</td></tr> <tr><td><code>202</code></td> <td><code>Accepted</code></td> <td>请求已被接受，但服务器还未对其执行任何操作。不能保证服务器会完成这个请求，只表示接受请求时是有效的。应该在<code>body</code>中包含请求状态描述，以及预计完成时间（或者一个可以获取此信息的指针）</td></tr> <tr><td><code>203</code></td> <td><code>Non-Authoritative Infomation</code></td> <td>实体首部包含的信息不是来自源服务器，而是来自资源的一份副本。如果中间节点上有副本，但无法或者没有对它所发送的资源有关元信息（首部）进行验证，就会出现这种情况。不是非用不可的，如果实体首部来自源服务器，相应为200的应用程序可以将其作为一种可选项使用</td></tr> <tr><td><code>204</code></td> <td><code>No Content</code></td> <td>相应报文中包含若干首部和状态行，没有<code>body</code>。主要用于在浏览器不转为显示新文档的情况下，对其进行更新（如刷新一个表单）</td></tr> <tr><td><code>205</code></td> <td><code>Reset Content</code></td> <td>用于告知浏览器清除当前前面中的所有<code>HTML</code>表单元素</td></tr> <tr><td><code>206</code></td> <td><code>Partial Content</code></td> <td>成功执行了一个部分或者<code>Range</code>请求。可以通过特殊的首部来获取部分或者某个范围内的文档。响应中必须包含<code>Content-Range</code>、<code>Date</code>以及<code>Etag</code>或<code>Content Location</code>首部</td></tr></tbody></table> <h3 id="_300-399重定向状态码"><a href="#_300-399重定向状态码" class="header-anchor">#</a> 300~399重定向状态码</h3> <table><thead><tr><th>状态码</th> <th>原因短语</th> <th>含义</th></tr></thead> <tbody><tr><td><code>300</code></td> <td><code>Moltiple Choice</code></td> <td>请求一个实际指向多个资源的<code>URL</code>时返回的状态码，带有一个选项列表，<code>Location</code>首部包含首选<code>URL</code></td></tr> <tr><td><code>301</code></td> <td><code>Moved Permanently</code></td> <td>请求的<code>URL</code>被移除，<code>Location</code>首部包含新<code>URL</code></td></tr> <tr><td><code>302</code></td> <td><code>Found</code></td> <td>临时重定向，<code>Location</code>首部包含临时地址，将来还请求这个<code>URL</code>。<code>HTTP 1.0</code>加入，但是<code>POST</code>有问题，所以<code>HTTP 1.1</code>增加了<code>303</code>，很多浏览器将其当做<code>303</code>处理</td></tr> <tr><td><code>303</code></td> <td><code>See Other</code></td> <td>用<code>Location</code>首部的地址来获取资源，主要目的是允许<code>POST</code>请求将客户端定位到某个资源上，会将<code>POST</code>转为<code>GET</code></td></tr> <tr><td><code>304</code></td> <td><code>Not Modified</code></td> <td>结合不同首部不同意义。对于<code>GET</code>请求，表明资源未被修改，响应不包含<code>body</code>部分</td></tr> <tr><td><code>305</code></td> <td><code>Use Proxy</code></td> <td>用<code>Location</code>首部返回的代理地址访问资源</td></tr> <tr><td><code>307</code></td> <td><code>Temporary Redirect</code></td> <td>与<code>303</code>类似，但是需要跟用户询问是否应该在新<code>URI</code>上发起<code>POST</code>方法，不会转为<code>GET</code></td></tr></tbody></table> <h3 id="_400～499客户端错误状态码"><a href="#_400～499客户端错误状态码" class="header-anchor">#</a> 400～499客户端错误状态码</h3> <table><thead><tr><th>状态码</th> <th>原因短语</th> <th>含义</th></tr></thead> <tbody><tr><td><code>400</code></td> <td><code>Bad Request</code></td> <td>客户端发送了一个错误的请求</td></tr> <tr><td><code>401</code></td> <td><code>Unauthorized</code></td> <td>无访问权限，需要进行验证</td></tr> <tr><td><code>402</code></td> <td><code>Payment Required</code></td> <td>保留状态码，供未来使用</td></tr> <tr><td><code>403</code></td> <td><code>Forbidden</code></td> <td>请求被服务器拒绝，用于服务器不想说明拒绝原因</td></tr> <tr><td><code>404</code></td> <td><code>Not Found</code></td> <td>服务器无法找到所请求的<code>URL</code>，通常会包含一个<code>404</code>页面供浏览器展示给用户看</td></tr> <tr><td><code>405</code></td> <td><code>Mothod Not Allowed</code></td> <td>请求方法对于的<code>URL</code>不支持。在响应<code>body</code>中包含<code>Allow</code>首部，告知可以使用那些方法</td></tr> <tr><td><code>406</code></td> <td><code>Not Acceptable</code></td> <td>客户端可以指定参数用以说明可接受的实体类型。表明服务器没有对应资源。一般服务器会包含一些首部，告知客户端原因</td></tr> <tr><td><code>407</code></td> <td><code>Proxy Authentication Required</code></td> <td>与<code>401</code>类似，用于对资源进行验证的代理服务器</td></tr> <tr><td><code>408</code></td> <td><code>Request Timeout</code></td> <td>完成客户端的请求耗时过长时，发送此状态码，并关闭连接</td></tr></tbody></table> <h2 id="http首部"><a href="#http首部" class="header-anchor">#</a> HTTP首部</h2> <p><code>HTTP</code>首部字段向请求报文和响应报文中添加了一些附加消息。<code>HTTP</code>首部是一系列的名/值对列表。可分为以下几类：</p> <ul><li><strong>通用首部</strong>，既可以出现在请求报文里，也可以出现在响应报文里</li> <li><strong>请求首部</strong>，提供更多关于请求的信息</li> <li><strong>响应首部</strong>，提供更多关于响应的信息</li> <li><strong>实体首部</strong>，描述实体的长度和内容、或者资源自身</li> <li><strong>扩展首部</strong>，规范中没有定义的首部</li></ul> <p>将长的首部行分为多行可以提高可读性，被称之为<strong>首部延续行</strong>，多出来的每行前面至少要有一个空格或者制表符（Tab）</p> <h2 id="get与post的区别"><a href="#get与post的区别" class="header-anchor">#</a> GET与POST的区别</h2> <h3 id="浏览器的get和post"><a href="#浏览器的get和post" class="header-anchor">#</a> 浏览器的GET和POST</h3> <p>特指浏览器中非<code>Ajax</code>的<code>HTTP</code>请求，浏览器<code>GET</code>用于读取一个资源，<code>POST</code>用于提交一个表单。<code>GET</code>请求是没有副作用的，是幂等的，而<code>POST</code>请求用副作用，是不幂等的，但是接口中<code>POST</code>是可以幂等的。</p> <p>因为<code>GET</code>是读取，可以对<code>GET</code>请求的数据做缓存。可以做缓存浏览器本身上（彻底避免浏览器发请求），也可以做到代理上（如nginx），或者做到server端（用Etag，至少可以减少带宽消耗）。而<code>POST</code>不能缓存，也不能保存为书签。如果尝试重新执行<code>POST</code>请求，浏览器会弹一个框提示下刷新可能会有副作用，询问要不要继续。</p> <p><code>GET</code>和<code>POST</code>携带数据的格式也有区别，<code>GET</code>请求的数据附在<code>URL</code>上而<code>POST</code>请求的数据在<code>body</code>里。并不是<code>GET</code>只能用<code>URL</code>，而是浏览器直接发出的<code>GET</code>只能由一个<code>URL</code>触发。所以<code>GET</code>请求参数只能在<code>URL</code>上附带<code>query string</code>，但<code>HTTP</code>协议本身并没有这个限制。</p> <p>浏览器的<code>POST</code>请求都来自表单提交，表单的数据被浏览器用编码到<code>HTTP</code>请求的<code>body</code>里。主要有有两种格式，一种是<code>application/x-www-form-urlencoded</code>，用来传输类似<code>key1=value1&amp;key2=value2</code>这样的简单数据；另外一种是<code>multipart/form-data</code>，用来传输文件。因为<code>application/x-www-form-urlencoded</code>对于文件这种二进制的数据非常低效。</p> <h3 id="接口中的get和post"><a href="#接口中的get和post" class="header-anchor">#</a> 接口中的GET和POST</h3> <p>指通过浏览器的<code>Ajax</code>，或者<code>iOS</code>/<code>Android</code>等的<code>HTTP Client</code>发出的<code>GET</code>和<code>POST</code>请求。此时<code>GET/POST</code>不光能用在前端和后端的交互中，还能用在后端各个子服务的调用中（即当一种<code>RPC</code>协议使用）。</p> <p>从<code>HTTP</code>协议本身看，并没有什么限制<code>GET</code>一定不能没有<code>body</code>，<code>POST</code>一定不能把参书放到<code>URL</code>的查询参数（<code>query string</code>）上。为了统一风格，形成了一系列的接口规范/风格，例如<code>REST</code>、<code>GraphQL</code>等。<code>REST</code>推荐在<code>body</code>中使用<code>application/json</code>格式，与<code>x-www-form-urlencoded</code>相比，具有<strong>可嵌套</strong>和<strong>数据类型更丰富</strong>的优势。</p> <h3 id="关于安全性"><a href="#关于安全性" class="header-anchor">#</a> 关于安全性</h3> <h2 id="web的结构组件"><a href="#web的结构组件" class="header-anchor">#</a> Web的结构组件</h2> <ul><li>代理，位于客户端和服务器之间的<code>HTTP</code>中间实体</li> <li>缓存，<code>HTTP</code>的仓库，使常用页面的副本可以保存在离客户端更近的地方</li> <li>网关，连接其他应用程序的特殊<code>Web</code>服务器</li> <li>隧道，对<code>HTTP</code>通信报文进行盲转发的特殊代理</li> <li>Agent代理，发起自动<code>HTTP</code>请求的半智能<code>Web</code>客户端</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b27af4fa.js" defer></script><script src="/assets/js/2.5fc4f946.js" defer></script><script src="/assets/js/29.80f459c9.js" defer></script>
  </body>
</html>
